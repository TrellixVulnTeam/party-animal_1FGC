"undefined"!=typeof browser&&(chrome=browser),function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=734)}({131:function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:c}catch(e){o=c}}();var a,l=[],u=!1,d=-1;function f(){u&&a&&(u=!1,a.length?l=a.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=l.length;t;){for(a=l,l=[];++d<t;)a&&a[d].run();d=-1,t=l.length}a=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||u||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},21:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},734:function(e,t,n){e.exports=n(735)},735:function(e,t,n){(function(o,r,i){var c,s,a;!function(e){function t(e){Object.defineProperty(this,e,{enumerable:!0,get:function(){return this[h][e]}})}function o(e){if(r.isModule?r.isModule(e):"[object Module]"===Object.prototype.toString.call(e))return e;var t={default:e,__useDefault:e};if(e&&e.__esModule)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return new c(t)}function c(e){Object.defineProperty(this,h,{value:e}),Object.keys(e).forEach(t,this)}function s(e){return"@node/"===e.substr(0,6)?p(e,o(g(e.substr(6)))):m[e]}function a(e){var t=s(e);if(!t)throw new Error('Module "'+e+'" expected, but not contained in build.');if(t.module)return t.module;var n=t.linkRecord;return function e(t,n){if(!n.depLoads){n.declare&&l(t,n),n.depLoads=[];for(var o=0;o<n.deps.length;o++){var r=s(n.deps[o]);n.depLoads.push(r),r.linkRecord&&e(r,r.linkRecord);var i=n.setters&&n.setters[o];i&&(i(r.module||r.linkRecord.moduleObj),r.importerSetters.push(i))}return t}}(t,n),f(t,n,[]),t.module}function l(t,n){var o=n.moduleObj,r=t.importerSetters,i=!1,c=n.declare.call(e,function(e,t){if(!i){if("object"==typeof e)for(var n in e)"__useDefault"!==n&&(o[n]=e[n]);else o[e]=t;i=!0;for(var c=0;c<r.length;c++)r[c](o);return i=!1,t}},{id:t.key});"function"!=typeof c?(n.setters=c.setters,n.execute=c.execute):(n.setters=[],n.execute=c)}function u(e,t,n){return m[e]={key:e,module:void 0,importerSetters:[],linkRecord:{deps:t,depLoads:void 0,declare:n,setters:void 0,execute:void 0,moduleObj:{}}}}function d(e,t,n,o){var r={};return m[e]={key:e,module:void 0,importerSetters:[],linkRecord:{deps:t,depLoads:void 0,declare:void 0,execute:o,executingRequire:n,moduleObj:{default:r,__useDefault:r},setters:void 0}}}function f(t,n,o){if(o.push(t),t.module)return t.module;if(n.setters){for(var r=0;r<n.deps.length;r++){var i=n.depLoads[r],s=i.linkRecord;s&&-1===o.indexOf(i)&&f(i,s,s.setters?o:[])}n.execute.call(v)}else{var a={id:t.key},l=n.moduleObj;Object.defineProperty(a,"exports",{configurable:!0,set:function(e){l.default=l.__useDefault=e},get:function(){return l.__useDefault}});var u=function(e,t,n){return function(o){for(var r=0;r<e.length;r++)if(e[r]===o){var i,c=t[r],s=c.linkRecord;return"__useDefault"in(i=s?-1===n.indexOf(c)?f(c,s,n):s.moduleObj:c.module)?i.__useDefault:i}}}(n.deps,n.depLoads,o);if(!n.executingRequire)for(r=0;r<n.deps.length;r++)u(n.deps[r]);var d=n.execute.call(e,u,l.__useDefault,a);void 0!==d?l.default=l.__useDefault=d:a.exports!==l.__useDefault&&(l.default=l.__useDefault=a.exports);var p=l.__useDefault;if(p&&p.__esModule)for(var m in p)Object.hasOwnProperty.call(p,m)&&(l[m]=p[m])}a=t.module=new c(n.moduleObj);if(!n.setters)for(r=0;r<t.importerSetters.length;r++)t.importerSetters[r](a);return a}function p(e,t){return m[e]={key:e,module:t,importerSetters:[],linkRecord:void 0}}var m={},h="undefined"!=typeof Symbol?Symbol():"@@baseObject";c.prototype=Object.create(null),"undefined"!=typeof Symbol&&Symbol.toStringTag&&(c.prototype[Symbol.toStringTag]="Module");var g=r._nodeRequire||void 0!==i&&i.platform&&n(737),v={};return Object.freeze&&Object.freeze(v),function(e,t,n,r){return function(i){i(function(i){var s={_nodeRequire:g,register:u,registerDynamic:d,registry:{get:function(e){return m[e].module},set:p},newModule:function(e){return new c(e)}};p("@empty",new c({}));for(var l=0;l<t.length;l++)p(t[l],o(arguments[l]));r(s);var f=a(e[0]);if(e.length>1)for(l=1;l<e.length;l++)a(e[l]);return n?f.__useDefault:(f instanceof c&&Object.defineProperty(f,"__esModule",{value:!0}),f)})}}}("undefined"!=typeof self?self:void 0!==o?o:this)(["14"],[],!0,function(e){this.require;var t,n=this.exports,o=this.module;e.registerDynamic("15",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeAclkUrl=function(e){const t=e.split("aclk?");if(2!==t.length)throw new Error(`Expected Google pagead "aclk" URL. Instead got: ${e}`);return t[1].replace(/ved=.*&/,"").replace(/&q=&adurl=$/,"").replace(/&adurl=&q=$/,"")}}),e.registerDynamic("16",["17","18","15"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.parseDom=s;var o=e("17"),r=e("18"),i=e("15");function c(e){window.console.error("[human-web] Exception caught:",e)}function s(e,t,n){const o=t.document;try{let e=null;if((e=o.querySelector("script"))&&e.innerHTML.indexOf("location.replace")>-1){const e=o.querySelector("title").textContent;chrome.runtime.sendMessage({module:"human-web",action:"jsRedirect",args:[{message:{location:e,url:o.location.href}}]})}}catch(e){c(e)}try{let e="",t=!1;o.querySelector("#s0p1c0")&&(e=o.querySelector("#s0p1c0").href),o.querySelector("#tads .ads-ad")&&null===o.querySelector("#tads .ads-ad").offsetParent&&(t=!0);const r={type:"dom",ad:e,hidden:t};n.action("contentScriptTopAds",{message:r})}catch(e){c(e)}try{const e={},o=t.document;let r=0;const s={query:{element:"#ires",attribute:"data-async-context"},adSections:[".ads-ad",".pla-unit-container",".pla-hovercard-content-ellip",".cu-container tr"],0:{cu:".ad_cclk h3 a[id^='s0p'],.ad_cclk h3 a[id^='n1s0p'],.ad_cclk h3 a[id^='s3p']",fu:".ad_cclk h3 a[id^='vs0p'],.ad_cclk h3 a[id^='vn1s0p'],.ad_cclk h3 a[id^='vs3p']"},1:{cu:"a[id^='plaurlg']",fu:"a[id^='vplaurlg']"},2:{cu:"a[id^='plaurlh']",fu:"a[id^='vplaurlh']"},3:{cu:"a[id^='plaurlt']",fu:"a[id^='vplaurlt']"}},a=o.querySelector(s.query.element);let l="";if(a){l=a.getAttribute(s.query.attribute).replace("query:","");try{l=decodeURIComponent(l)}catch(e){}}s.adSections.forEach((t,n)=>{Array.prototype.slice.call(o.querySelectorAll(t)).forEach(t=>{const o=s[n].cu,c=s[n].fu,a=t.querySelector(o),u=t.querySelector(c);if(a&&u){const t=(0,i.normalizeAclkUrl)(a.href);e[t]={ts:Date.now(),query:l,furl:[u.getAttribute("data-preconnect-urls"),u.href]},r+=1}})}),r>0&&n.action("adClick",{ads:e})}catch(e){c(e)}}(0,o.registerContentScript)("human-web","http*",(e,t,n)=>{e.location.href;const o=n.app.modules["human-web"];function i(e){return t=>{o.action(e,{target:{baseURI:t.target.baseURI}})}}e.top===e&&e.addEventListener("DOMContentLoaded",()=>{s(0,e,o)});const c=(0,r.throttle)(e,i("hw:keypress"),250),a=(0,r.throttle)(e,i("hw:mousemove"),250),l=(0,r.throttle)(e,i("hw:scroll"),250),u=(0,r.throttle)(e,i("hw:copy"),250);e.addEventListener("keypress",c),e.addEventListener("mousemove",a),e.addEventListener("scroll",l),e.addEventListener("copy",u),e.addEventListener("unload",function(t){if(!t||t.target===e.document){try{String(e)}catch(e){return}e.removeEventListener("keypress",c),e.removeEventListener("mousemove",a),e.removeEventListener("scroll",l),e.removeEventListener("copy",u)}})})}),e.registerDynamic("19",["17"],!0,function(e,t,n){"use strict";this||self;function o(){document.__defineSetter__("cookie",()=>{}),document.__defineGetter__("cookie",()=>"")}function r(e){if(!e)return"";const t=e.split(".");return t.slice(Math.max(0,t.length-2),t.length).join(".")}(0,e("17").registerContentScript)("antitracking","http*",(e,t,n)=>{const i=n.app.modules.antitracking;if(i.isEnabled&&i.state.cookieBlockingEnabled&&i.state.compatibilityList&&(!n.app.modules.ghostery||!n.app.modules.ghostery.state.paused&&-1===n.app.modules.ghostery.state.whitelisted.indexOf(e.self.location.hostname))&&e.self!==e.top){try{const t=r(new URL(document.referrer).hostname),n=r(e.self.location.hostname);if(n===t||function(e){const t=e.document;return t instanceof e.HTMLDocument==0&&(t instanceof e.XMLDocument==0||t.createElement("div")instanceof e.HTMLDivElement==0)}(e)||i.state.compatibilityList[n]&&-1!==i.state.compatibilityList[n].indexOf(t))return}catch(e){}!function(e){const t=`(${o.toString()})();`,n=e.documentElement,r=e.createElement("script");r.text=t,r.async=!1,n.insertBefore(r,n.firstChild),n.removeChild(r)}(e.document)}})}),e.registerDynamic("1a",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){let t=e.input,n=e.button,o=e.onClick;this._clickCb=(e=>{if(!e||"click"!==e.type)return;const t=this.input?this.input.value:"";this.onClick&&this.onClick(t)}),this.input=t,this.button=n,this.onClick=o,this.button&&this.button.addEventListener("click",this._clickCb)}unload(){this.button&&this.button.removeEventListener("click",this._clickCb),this.button=null,this.input=null,this.onClick=null,this._clickCb=null}fillCode(e){this.input&&0===this.input.value.length&&e&&(this.input.value=e)}}}),e.registerDynamic("1b",["1a","1c"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});var o,r=e("1a"),i=(o=r)&&o.__esModule?o:{default:o},c=e("1c");t.default=class{constructor(e){let t=e.window,n=e.onClick,o=e.offerInfo,r=e.onFindCouponApplication;this.offerInfo=o,this.couponValue="",this.onClick=n,this.onFindCouponApplication=r,this.coupon=null,this._onMutations=this._onMutations.bind(this),this._onClick=this._onClick.bind(this),this.mutationObserver=new t.MutationObserver(this._onMutations),this.mutationObserver.observe(t.document,{childList:!0,subtree:!0})}_onClick(e){this.couponValue=e,this.onClick(e)}unload(){this.mutationObserver&&this.mutationObserver.disconnect(),this.coupon&&this.coupon.unload(),this.coupon=null,this.mutationObserver=null,this.offerInfo=null,this.onClick=null,this.onFindCouponApplication=null,this._onMutations=null}_onMutations(e){if(this.offerInfo&&this.offerInfo.autoFillField){const t=new Set(e.map(e=>e.target).filter(e=>e&&e.tagName&&"form"===e.tagName.toLowerCase()));this.processForms([...t])}[...e].forEach(e=>[...e.addedNodes].forEach(e=>this.seekForCouponApplication(e,!0)))}seekForCouponApplication(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.offerInfo&&this.offerInfo.code;if(!n)return;if(t&&n!==this.couponValue)return;const o=(0,c.findCouponApplication)(e,n,{strategy:t?"full":"code"});this.onFindCouponApplication(o)}processForms(e){var t=(0,c.getCouponsForm)(e);const n=t.input,o=t.button;if(t.ok&&this.offerInfo&&this.offerInfo.autoFillField){const e=new i.default({input:n,button:o,onClick:this._onClick});this.coupon&&this.coupon.unload(),this.coupon=e}}}}),e.registerDynamic("1c",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var c,s=e[Symbol.iterator]();!(o=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const r=["voucher","discount","coupon","rabatt","gutschein","promo"],i=["buy","kaufen","bestellen","order","book","buchen"],c=["code","gutschein","rabatt","rabattcode","coupon","discount"];function s(e){const t=function(e){const t=e.querySelectorAll("input"),n=(e,t)=>e&&e.toLowerCase().includes(t);return[...t].filter(e=>"hidden"!==e.type&&"password"!==e.type&&r.some(t=>n(e.name,t)||n(e.id,t)))}(e);if(1!==t.length)return{ok:!1,input:null,button:null};const n=function(e){const t=[...e.querySelectorAll("button")]||!1,n=([...e.querySelectorAll("input")]||!1).filter(e=>e&&e.type&&"submit"===e.type.toLowerCase());return t.concat(n)}(e);return 1!==n.length?{ok:!1,input:null,button:null}:{ok:!0,input:t[0],button:n[0]}}function a(e){const t=e=>t=>e.some(e=>-1!==t.toLowerCase().indexOf(e));return e.some(t(["error"]))?[!0,"error"]:e.some(t(["success","voucher"]))?[!0,"success"]:[!1,"notfound"]}function l(e,t){const n={};return function e(t,n,r){if(n.done)return;var i=function(e,t){if(e.nodeType!==e.TEXT_NODE)return[!1,null];const n=1===t.length?e.textContent:e.textContent.toLowerCase();return t.some(e=>-1!==n.indexOf(e))?[!0,e]:[!1,null]}(t,r),c=o(i,2);const s=c[0],a=c[1];if(s)return n.done=!0,void(n.node=a);t.hasChildNodes()&&"IFRAME"!==t.tagName&&t.childNodes.forEach(t=>e(t,n,r))}(e,n,t),n.done?function(e){let t=0,n=e;for(;n&&t<5;){var r=a([...n.classList||[]]),i=o(r,2);const e=i[0],c=i[1];if(e)return c;n=n.parentNode,t+=1}return"notfound"}(n.node):""}function u(e){let t=e.value||e.textContent;if(0===t.length&&e.parentElement&&(t=e.parentElement.value||e.parentElement.textContent),!t)return!1;if((t=t.trim().toLowerCase()).length>50)return!1;let n=t.split(/\s+/);return(n=n.filter(e=>i.indexOf(e)>-1)).length>0}t.getCouponsForm=function(e){return e.reduce((e,t)=>t?e.ok?e:s(t):e,{ok:!1,input:null,button:null})},t.findCouponApplication=function(e,t,n){var o=n.strategy;let r=void 0===o?"full":o;const i=l(e,[t]);return"code"===r?i:i||l(e,c)},t.getPurchaseButtons=(e=>{if(e.location.href.split(/[\/|-]/).length>8)return[];const t=e.document,n=[],o=["button",'input[type="button"]','input[type="submit"]','a[href*="checkout"]'].join(", ");return t.querySelectorAll(o).forEach(e=>n.push(e)),n.filter(e=>!e.hidden).filter(e=>e.offsetHeight>20).filter(u)})}),e.registerDynamic("1d",[],!0,function(e,t,n){"use strict";this||self;function o(e){return/(^|\.)amazon\..{2,6}$/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isAmazonDomain=o,t.default=function(e,t,n){if(e.parent!==e)return;if(!o(e.location.hostname))return;e.addEventListener("DOMContentLoaded",()=>{(function(e){return[...e.getElementsByTagName("a")].some(e=>e.href&&e.href.endsWith("/ref=nav_logo_prime"))})(e.document)&&n.app.modules["offers-v2"].action("learnTargeting","AmazonPrime")},{once:!0})}}),e.registerDynamic("1e",["17","1b","1c","1d"],!0,function(e,t,n){"use strict";this||self;var o=e("17"),r=s(e("1b")),i=e("1c"),c=s(e("1d"));function s(e){return e&&e.__esModule?e:{default:e}}(0,o.registerContentScript)("offers-v2","http*",function(e,t,n){if(e.parent!==e)return;const o=function(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];n.app.modules["offers-v2"].action(e,...o)},c=e.location.href;let s=null;const a=t=>{(e=>e&&e.response&&"offers-v2"===e.response.module&&e.response.url===c)(t)&&(t.response.activate?(t=>{s||(s=new r.default({offerInfo:t,window:e,onClick:e=>{o("couponFormUsed",{offerInfo:t,couponValue:e,url:c})},onFindCouponApplication:e=>{const n={success:"coupon_autofill_field_success_use",error:"coupon_autofill_field_error_use",notfound:"coupon_autofill_field_application_not_found"}[e];n&&o("couponFormUsed",{offerInfo:t,couponValue:n,url:c})}})),s.processForms([...e.document.querySelectorAll("form")]),s.seekForCouponApplication(e.document.body)})(t.response.offerInfo):s&&(s.unload(),s=null))},l=()=>{o("onContentSignal",{action:"purchase",state:"attempted"})},u=()=>{o("activateCouponDetectionOnUrl",c);const t=(0,i.getPurchaseButtons)(e);t.length>5||t.length>0&&t.forEach(e=>{e.addEventListener("click",l)})},d=()=>{s&&(s.unload(),s=null),t.runtime.onMessage.removeListener(a),e.removeEventListener("unload",d),e.removeEventListener("load",u)};e.addEventListener("load",u),e.addEventListener("unload",d),t.runtime.onMessage.addListener(a)}),(0,o.registerContentScript)("offers-v2","https://*.amazon.*",c.default)}),t=function(e){"use strict";var t=Math.abs(524287*Date.now()^524287*Math.random()>>>0).toString(16);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0
      THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.
      See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function n(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)c.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return c}function o(e,t){var n=new RegExp(e);t.addEventListener("beforescriptexecute",function(e){var t=e.target;t.textContent&&n.test(t.textContent)&&(e.preventDefault(),e.stopPropagation())})}function r(e,t){var n=t.createElement("script");n.type="text/javascript",n.id="cliqz-adblocker-script",n.async=!1,n.appendChild(t.createTextNode(function(e){return"\ntry {\n  "+e+"\n} catch (ex) { }\n\n(function() {\n  var currentScript = document.currentScript;\n  var parent = currentScript && currentScript.parentNode;\n\n  if (parent) {\n    parent.removeChild(currentScript);\n  }\n})();\n  "}(e)));var o=t.head||t.documentElement;null!==o&&o.appendChild(n)}function i(e,t){return void 0===t&&(t=[]),function(o){for(var i=[],c=1;c<arguments.length;c++)i[c-1]=arguments[c];return r(function(e,t){return void 0===t&&(t=[]),"\n"+t.map(function(e){return"const "+e.name+" = "+e.toString()+";"}).join("\n")+"\n"+e+"\n  "}(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return"\ntry {\n  ("+e.toString()+")("+t.map(function(e){return JSON.stringify(e)}).join(", ")+");\n} catch (ex) {  };"}.apply(void 0,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e}([e],i)),t),o.document)}}var c=i(function(e){var t=window.onerror,n=function(n){return"string"==typeof n&&-1!==n.indexOf(e)||t instanceof Function&&t.apply(this,arguments)}.bind(window);Object.defineProperty(window,"onerror",{get:function(){return n},set:function(){}})});function s(e){var t=document.currentScript;if(t===e)return!1;if(t instanceof HTMLScriptElement){var n=t.src;if(-1!==n.indexOf("instart.js")||-1!==n.indexOf("?:i10c."))return!0;var o=t.textContent;if(null!==o&&(-1!==o.indexOf(":Instart-")||-1!==o.indexOf("I10C")||-1!==o.indexOf("IXC")||-1!==o.indexOf("INSTART")))return!0}return!1}i(function(){var e=window.console,t=console.log;Object.defineProperty(console,"log",{value:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]instanceof HTMLElement)return;return t.apply(e,arguments)}.bind(console)}),Object.defineProperty(console.log,"name",{value:"log"})});var a=i(function(e){var t=document.currentScript;["atob","console.error","INSTART_TARGET_NAME","navigator.userAgent","performance","require"].forEach(function(n){var o,r=window,i=n.split("."),c=i.pop();(i.forEach(function(e){r=r[e]}),void 0!==c&&void 0!==r)&&Object.defineProperty(r,c,(o=r[c],{get:function(){if(s(t))throw new ReferenceError(e);return o},set:function(n){if(s(t))throw new ReferenceError(e);o=n}}))})},[s]),l=i(function(e){var t,n={InsertTags:function(e,t){document.write(t)},MoveTagAndCleanUp:function(){},MoveTag:function(){},RemoveTags:function(){},InterceptNode:function(){},PatchBegin:function(){},PatchEnd:function(){},PatchInit:function(){},PatchK:function(){},ReloadWithNoHtmlStreaming:function(){window.location.reload(!0)},RemoveAttributes:function(){},UpdateAttributes:function(){},SendR:function(){},RemoveCurrentScript:function(){}},o=new Proxy({},{get:function(e,t){switch(t){case"HtmlStreaming":return n;default:return e[t]}},set:function(e,t,n){switch(t){case"CanRun":e.CanRun=function(){return!1};break;default:e[t]=n}return!0}});Object.defineProperty(window,"_bcm_il",{value:!0}),Object.defineProperty(window,"I10C",{value:o}),Object.defineProperty(window,"I11C",{value:o}),Object.defineProperty(window,"INSTART",{value:new Proxy({},{get:function(n,r){switch(r){case"Init":return function(e){e instanceof Object&&"string"==typeof e.nanovisorGlobalNameSpace&&""!==e.nanovisorGlobalNameSpace&&(window[e.nanovisorGlobalNameSpace]=o),e.disableInjectionXhr=!0,e.enableHtmlStreaming=!1,e.enableQSCallDiffComputationConfig=!1,e.enableQuerySelectorMonitoring=!1,e.partialImage=!1,e.rum=!1,e.serveNanovisorSameDomain=!1,e.useWrapper=!1,e.virtualDomains=0,e.virtualizeDomains=[],void 0!==t&&t(e)};default:if(void 0===n[r])throw new Error(e);return n[r]}},set:function(e,n,o){switch(n){case"Init":t=o;break;default:e[n]=o}return!0}})})}),u=function(e){!function(e){-1!==["afterellen.com","allakhazam.com","americanphotomag.com","atvrider.com","baggersmag.com","baltimoresun.com","boatingmag.com","boston.com","cafemom.com","calgaryherald.com","calgarysun.com","capitalgazette.com","carrollcountytimes.com","cattime.com","cbssports.com","celebslam.com","celebuzz.com","chicagotribune.com","chowhound.com","chron.com","chroniclelive.co.uk","citypaper.com","cnet.com","comingsoon.net","computershopper.com","courant.com","craveonline.com","cruisingworld.com","csgoutpost.com","ctnow.com","cycleworld.com","dailydot.com","dailypress.com","dayzdb.com","deathandtaxesmag.com","delmartimes.net","destinationweddingmag.com","dirtrider.com","diversitybestpractices.com","dogtime.com","dotaoutpost.com","download.cnet.com","edmontonjournal.com","edmontonsun.com","edmunds.com","emedicinehealth.com","esohead.com","everquest.allakhazam.com","everydayhealth.com","extremetech.com","fieldandstream.com","financialpost.com","floridatravellife.com","flyingmag.com","focus.de","gamepedia.com","gamerevolution.com","gamespot.com","geek.com","gofugyourself.com","growthspotter.com","hearthhead.com","hockeysfuture.com","hotbikeweb.com","hoylosangeles.com","ibtimes.com","idigitaltimes.com","ign.com","infinitiev.com","islands.com","lajollalight.com","laptopmag.com","latintimes.com","leaderpost.com","legacy.com","lifewire.com","livescience.com","lolking.net","mamaslatinas.com","marlinmag.com","mcall.com","medicaldaily.com","medicinenet.com","metacritic.com","metrolyrics.com","mmo-champion.com","momtastic.com","montrealgazette.com","motorcyclecruiser.com","motorcyclistonline.com","motortrend.com","msn.com","musicfeeds.com.au","mustangandfords.com","mysanantonio.com","nasdaq.com","nationalpost.com","newsarama.com","newsweek.com","opshead.com","orlandosentinel.com","ottawacitizen.com","ottawasun.com","outdoorlife.com","pcmag.com","playstationlifestyle.net","popphoto.com","popsci.com","ranchosantafereview.com","range365.com","ranker.com","realclearpolitics.com","realitytea.com","redeyechicago.com","salon.com","saltwatersportsman.com","sandiegouniontribune.com","saveur.com","scubadiving.com","scubadivingintro.com","seattlepi.com","sfgate.com","sherdog.com","slate.com","slickdeals.net","southflorida.com","space.com","spin.com","sporcle.com","sportdiver.com","sportfishingmag.com","sportingnews.com","sportrider.com","spox.com","stereogum.com","streetchopperweb.com","sun-sentinel.com","superherohype.com","superstreetbike.com","tenplay.com.au","tf2outpost.com","thebalance.com","thefashionspot.com","thefrisky.com","theprovince.com","thespruce.com","thestarphoenix.com","thesuperficial.com","thoughtcatalog.com","thoughtco.com","timeanddate.com","timesunion.com","tmn.today","tomsguide.com","tomsguide.fr","tomshardware.co.uk","tomshardware.com","tomshardware.de","tomshardware.fr","torontosun.com","totalbeauty.com","trustedreviews.com","tv.com","tvguide.com","tvtropes.org","twincities.com","utvdriver.com","vancouversun.com","vg.no","vibe.com","wakeboardingmag.com","washingtonpost.com","waterskimag.com","webmd.com","wikia.com","windowscentral.com","windsorstar.com","winnipegsun.com","workingmother.com","wowhead.com","wrestlezone.com","xda-developers.com","yachtingmagazine.com","zam.com"].indexOf(function(e){for(var t=function(e){return e.startsWith("www.")?e.slice(4):e},n=e;n;){var o=n.location.hostname;if(""!==o)return t(o);if(n===e.parent)break;n=n.parent}return""}(e))&&(c(e,t),l(e,t),a(e,t))}(e)};e.injectCosmetics=function(e,t,n){return void 0===n&&(n=!0),n&&u(e),t().then(function(t){var n=t.active,i=t.scripts,c=t.blockedScripts,s=t.styles;if(n){if(i)for(var a=0;a<i.length;a+=1)r(i[a],e.document);if(c)for(a=0;a<c.length;a+=1)o(c[a],e.document);s&&s.length>0&&function(e,t){var n=t.head||t.getElementsByTagName("head")[0]||t.documentElement;if(null!==n){var o=t.createElement("style");o.type="text/css",o.id="cliqz-adblokcer-css-rules",o.appendChild(t.createTextNode(e)),n.appendChild(o)}}(s,e.document)}})},Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==o?t(n):e.registerDynamic("1f",[],!1,function(e,n,o){return t.call(n,n)}),e.registerDynamic("20",["1f"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("1f"));t.default=o}),e.registerDynamic("21",["17","20"],!0,function(e,t,n){"use strict";this||self;var o,r=e("17"),i=e("20"),c=(o=i)&&o.__esModule?o:{default:o};(0,r.registerContentScript)("adblocker","http*",(e,t,n)=>{e.location.href&&c.default.injectCosmetics(e,()=>n.app.modules.adblocker.action("getCosmeticsFilters"))})}),e.registerDynamic("22",["17"],!0,function(e,t,n){"use strict";this||self;var o=e("17");const r=chrome.runtime.getURL("/modules/anti-phishing/phishing-warning.html?u=");(0,o.registerContentScript)("anti-phishing","http*",(e,t,n)=>{n.app.modules["anti-phishing"].action("isPhishingURL",e.location.href).then(t=>{const n=t.block,o=t.type;n&&"phishingURL"===o&&(e.location=`${r}${encodeURIComponent(e.location)}`)})})}),e.registerDynamic("23",["17"],!0,function(e,t,n){"use strict";this||self;var o=e("17");const r=250,i="myoffrz-helper";class c{constructor(e,t){this.window=e,this.document=e.document,this.backgroundModule=t,this.categoriesRules=[],this.refetchUrl=null}onBackgroundMsg(e){if(e.module===i&&"rulesFromBackground"===e.action){const t=e.args[0];this.handleRules(t)}}sendToBackground(e){let t=e.categories,n=e.titles,o=e.links,r=e.productId,i=e.prefix,c=e.price;(t.length>0||n.length>0||o.length>0||this.refetchUrl)&&this.backgroundModule.action("handleCategories",{categories:t,titles:n,linkIds:o,productId:r,fromContent:!0,prefix:i,fetchUrl:this.refetchUrl,rules:this.categoriesRules,price:c})}extractCategroyFromElement(e,t,n){if(!e)return[];const o=new RegExp(`[${String.fromCharCode(8250)}|>|\n]`),i=String.fromCharCode(8249);if(!n&&(e.hidden||e.offsetTop>r))return[];const c=e.textContent.trim();if(c.indexOf(i)>-1)return t&&!this.refetchUrl&&(this.refetchUrl=document.head.querySelector("link[rel='canonical']").getAttribute("href")),[];let s=c.split(o).map(e=>e.trim()).filter(e=>""!==e).join(" > ");return 0===s.indexOf("in")&&(s=s.slice(3)),[s]}getCategories(e,t){const n=this.document.querySelectorAll(e);let o=[];return n.forEach(e=>{o=o.concat(this.extractCategroyFromElement(e,t,!1))}),o=o.reduce((e,t)=>e.concat(t),[]),[...new Set(o)]}getTitles(e){const t=[];return this.document.querySelectorAll(e).forEach(e=>{t.push(e.textContent.trim())}),t}getLinks(e,t){const n=[];return this.document.querySelectorAll(e).forEach(e=>{const o=e.href;if(t){const e=new RegExp(t).exec(o);if(e)return void n.push(e[1])}n.push(o)}),n}getPrice(e){const t=this.document.querySelector(e).textContent.trim().match(/[\d,.]+/g);if(t&&t.length>0){const e=t[0].split(/[,.]/);return e.length>1&&2===e[e.length-1].length&&(e[e.length-1]=`.${e[e.length-1]}`),e.join("")}return null}handleRules(e){let t=e.rules,n=e.productId,o=e.prefix;const r=()=>{let e=[],r=[],i=[],c=null;this.categoriesRules=t.category,t.category&&t.category.length>0&&(e=(e=t.category.map(e=>this.getCategories(e,t.refetch))).reduce((e,t)=>e.concat(t),[]),e=[...new Set(e)]),t.title&&t.title.length>0&&t.title.forEach(e=>{r=r.concat(this.getTitles(e))}),t.link&&t.link.length>0&&t.link.forEach(e=>{i=i.concat(this.getLinks(e,t.linkIdRegex))}),t.price&&t.price.length>0&&t.price.some(e=>!!(c=this.getPrice(e))),this.sendToBackground({categories:e,titles:r,links:i,productId:n,prefix:o,price:c})};t&&(t.waitForLoad&&"complete"!==this.document.readyState?this.window.addEventListener("load",()=>{r()}):r())}}(0,o.registerContentScript)(i,"http*",(e,t,n)=>{if(e.top===e){const o=n.app.modules[i],r=new c(e,o),s=r.onBackgroundMsg.bind(r);t.runtime.onMessage.addListener(s);const a=()=>{t.runtime.onMessage.removeListener(s),e.removeEventListener("unload",a)};e.addEventListener("unload",a)}})}),e.registerDynamic("24",["25"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.preShowActions=t.onApplyActions=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=e("25");t.onApplyActions=(e=>{return{"insert-coupon-form":function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,r.getCouponsForm)([...e.document.querySelectorAll("form")]),o=n.ok,i=n.input,c=n.button;(o||t.code)&&(i.value=t.code,c.click&&c.click())}}[e]||(()=>{})}),t.preShowActions=(e=>{return{"try-to-find-coupon":(e,t)=>{const n=(0,r.getCouponsForm)([...e.document.querySelectorAll("form")]),i=n.ok,c=n.input,s=i&&Boolean(c.value);return{ok:i,config:o({},t,{shouldHideButtons:!i,shouldPreventRender:s})}}}[e]||((e,t)=>({ok:!0,config:t}))})}),e.registerDynamic("26",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});t.pop=((e,t)=>e.app.modules["popup-notification"].action("pop",t)),t.log=((e,t)=>e.app.modules["popup-notification"].action("log",t))}),e.registerDynamic("27",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var c,s=e[Symbol.iterator]();!(o=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.styles=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ghostery;let n=void 0!==t&&t,r=e.logo_class;var i=e.styles;let c=(i=void 0===i?{}:i).headline_color,s=e.baseUrl;const a=n?"ghostery-rewards-beta.svg":"offers-cc-icon.svg",l=n?"111px":"20px";var u=o(n?["#930194","#920094","#850587"]:["#00AEF0","#0078CA","#0078CA"],3);const d=u[0],f=u[1],p=u[2];return`\n    body {\n      overflow: hidden;\n    }\n\n    .content {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      background-color: #fff;\n      z-index: 2147483646;\n      text-align: center;\n      border-radius: 5px;\n\n      display: flex;\n      flex-direction: column;\n      font-family: "-mac-system", "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    }\n\n    .header {\n      height: 45px;\n      border-bottom: 1px solid #DEDEDE;\n      background-color: #F2F2F2;\n      border-top-left-radius: 5px;\n      border-top-right-radius: 5px;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    }\n\n    .header > .offer-logo {\n      height: 100%;\n      font-size: 16.5px;\n      font-weight: 500;\n      color: #363636;\n      text-align: left;\n      padding-left: ${l};\n      margin-left: 16px;\n      background-repeat: no-repeat;\n      background-image: url(${s}images/${a});\n      background-position: center;\n    }\n\n    .header > .btn-close {\n      width: 14px;\n      height: 14px;\n      opacity: 0.6;\n      cursor: pointer;\n      padding-right: 22px;\n      margin-top: -2px;\n      background-repeat: no-repeat;\n      background-image: url(${s}images/close-icon.svg);\n    }\n\n    .header > .billet {\n      display: block;\n      min-height: 46px;\n      width: 99%;\n    }\n\n    .sub-header > .billet {\n      display: block;\n      width: 100%;\n    }\n\n    .sub-header > .billet:last-child {\n      display: block;\n      width: 1px;\n      padding-right: 32px;\n    }\n\n    .header > .btn-close:hover {\n      opacity: 1;\n    }\n\n    .sub-header {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      padding-top: 12px;\n    }\n\n    .sub-header > .labels {\n      display: flex;\n      flex-direction: column;\n      white-space: nowrap;\n      margin-left: 35px;\n    }\n\n    .sub-header > .labels > .exclusive{\n      background-image: url(${s}images/exclusive.svg);\n    }\n\n    .sub-header > .labels > .best_offer{\n      background-image: url(${s}images/best_offer.svg);\n    }\n\n    .sub-header > .labels > .offer_of_the_week{\n      background-image: url(${s}images/offer_of_the_week.svg);\n    }\n\n    .sub-header > .labels > .label {\n      padding-left: 14px;\n      color: #B2B2B2;\n      font-family: 'Arial Narrow', 'Impact';\n      letter-spacing: 1px;\n      text-transform: uppercase;\n      font-size: 8.5px;\n      font-weight: 400;\n      background-size: 12px 10px;\n      background-repeat: no-repeat;\n      background-position: left center;\n      margin-bottom: 2px;\n    }\n\n    .sub-header > .wrapper {\n      display: inline-block;\n      min-width: ${{square:"30px",short:"55px",normal:"70px",long:"105px"}[r]||"70px"};\n      height: 32px;\n    }\n\n    .sub-header > .wrapper > .logo {\n      display: inline-block;\n      background-color: transparent;\n      padding: 0;\n      min-width: 100%;\n      min-height: 100%;\n      background-repeat: no-repeat;\n      background-size: contain;\n    }\n\n\n    .benefit {\n      font-size: 32px;\n      font-weight: 500;\n      color: #494949;\n      padding: 7px 0 9px 0;\n      overflow: hidden;\n    }\n\n    .headline {\n      padding: 0 30px;\n      font-size: 19px;\n      font-weight: 350;\n      padding-bottom: 21px;\n      color: ${c||"black"};\n    }\n\n    .code-wrapper {\n      background-color: #F2F2F2;\n      border: 1px solid #DADADA;\n      height: 32px;\n      margin: 0 18px;\n      border-radius: 4px;\n      display: flex;\n      align-items: center;\n    }\n\n    .code-wrapper > .promo-code {\n      border: none;\n      color: transparent;\n      text-shadow: 0 0 0 #000;\n      font-size: 13px;\n      background-color: transparent;\n      font-weight: 600;\n\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      padding-left: 16px;\n      padding-right: 43%;\n    }\n\n    .code-wrapper > .copy-code {\n      cursor: pointer;\n      font-size: 10px;\n      font-weight: 500;\n      text-transform: uppercase;\n      color: #687E90;\n      white-space: nowrap;\n      margin-right: 14px;\n    }\n\n    .code-wrapper > .copy-code:hover {\n      color: ${d};\n    }\n\n    .footer {\n      background-color: #fff;\n      border-radius: 0 0 5px 5px;\n    }\n\n    .footer > button {\n      margin-top: 31px;\n      margin-left: 5px;\n      margin-right: 5px;\n      padding: 12px 8px;\n      letter-spacing: 0.5px;\n      font-size: 14px;\n      font-weight: 500;\n      border: 1px solid #ccc;\n      border-radius: 4px;\n      min-width: 150px;\n      cursor: pointer;\n      text-transform: uppercase;\n      background-color: #fff;\n    }\n\n    .footer > button.btn-cancel:hover {\n      color: ${f};\n      border-color: ${f};\n    }\n\n    .footer > button.btn-apply {\n      background-color: ${d};\n      border-color: ${d};\n      color: #fff;\n    }\n\n    .footer > button.btn-apply:hover {\n      background-color: ${p};\n      border-color: ${p};\n    }\n\n    .none {\n      display: none;\n    }\n\n    .middle {\n      background-color: #fff;\n    }\n\n    .footer-billet {\n      padding-bottom: 20px;\n    }\n\n    .conditions {\n      text-align: right;\n      padding-top: 3px;\n      color: #B2B2B2;\n      font-size: x-small;\n    }\n\n    .tooltip {\n      position: relative;\n      display: inline-block;\n      border-bottom: 1px dotted #B2B2B2;\n      margin-right: 27px;\n    }\n\n    .tooltip .tooltip-text {\n      box-shadow: rgba(0, 0, 0, 0.19) 3px 2px 13px 2px;\n      visibility: hidden;\n      width: 180px;\n      background-color: gray;\n      color: #fff;\n      text-align: left;\n      border-radius: 6px;\n      padding: 5px 8px;\n\n      position: absolute;\n      z-index: 1;\n      bottom: 11px;\n      right: -11px;\n    }\n\n    .tooltip:hover .tooltip-text {\n      visibility: visible;\n      overflow-y: auto;\n      overflow-x: hidden;\n      max-height: 200px;\n    }`},t.PARANJA_STYLES={position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0,0,0,0.5)","z-index":2147483645,transition:"all 200ms ease-in",opacity:"0"},t.popupStyles=function(e){var t=e.shouldHideButtons;let n=void 0!==t&&t;var o=e.headline;let r=(void 0===o?"":o).length>32?"372px":"352px";return n&&(r="280px"),{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",margin:"auto","box-shadow":"0px 10px 24px -7px rgba(0, 0, 0, 0.75);",width:"450px",height:r,transition:"all 200ms ease-in",opacity:"0","z-index":2147483647,"line-height":1}}}),e.registerDynamic("28",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&i.test(e)?e.replace(r,e=>o[e]):e};const o={"&":"&amp","<":"&lt",">":"&gt",'"':"&quot","'":"&#39"},r=/[&<>"']/g,i=RegExp(r.source)}),e.registerDynamic("29",["28"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.getTemplate=void 0;var o,r=e("28"),i=(o=r)&&o.__esModule?o:{default:o};function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map(t=>`\n    <div class="label ${t}">${(t=>e.i18n.getMessage(t))(`offers_${t}`)}</div>\n  `).join("")}t.getTemplate=function(e,t){let n=t.ghostery,o=t.logoText,r=t.benefit,s=t.headline,a=t.code,l=t.labels,u=t.conditions,d=t.shouldHideButtons;return`\n    <div class="content">\n      <div class="header">\n        <div class="offer-logo"></div>\n        <div class="offer-logo-text">${o}</div>\n        <div class="billet"></div>\n        <div class="btn-close"></div>\n      </div>\n      <div class="sub-header">\n        <div class="labels">${c(e,n?[]:l)} </div>\n        <div class="billet"></div>\n        <div class="wrapper">\n          <div class="logo"></div>\n        </div>\n        <div class="billet"></div>\n      </div>\n      <div class="middle">\n        <div class="benefit">${(0,i.default)(r)}</div>\n        <div class="headline">${(0,i.default)(s)}</div>\n      </div>\n      <div class="footer">\n        <div class="code-wrapper">\n          <input\n            class="promo-code"\n            value="${(0,i.default)(a)}"\n            readonly="readonly"\n            type="text">\n          <span class="copy-code">${e.i18n.getMessage("offers_hub_copy_btn")}</span>\n        </div>\n        ${function(e,t){return t?`<div class="conditions">\n      <div class="tooltip">\n        <span class="tooltip-text">${(0,i.default)(t)}</span>\n        ${e.i18n.getMessage("offers_conditions")} &#9432\n      </div>\n    </div>`:""}(e,u)}\n        <button class="btn-cancel ${d?"none":""}">\n          ${e.i18n.getMessage("popup_cancel_button")}\n        </button>\n        <button class="btn-apply ${d?"none":""}">\n          ${e.i18n.getMessage("popup_apply_code_button")}\n        </button>\n        <div class="footer-billet"></div>\n      </div>\n    </div>`}}),e.registerDynamic("2a",["29","25"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e){let t=e.chrome,n=e.window,c=e.config,s=e.onCancel,a=e.onApply,l=e.onCopyCode;const u=(0,i.createElement)(n,{tag:"div",className:"container"});u.innerHTML=(0,r.getTemplate)(t,o({},c,{logoText:c.ghostery?"&nbsp;":"MyOffrz"})),["btn-close","btn-cancel"].forEach(e=>{u.getElementsByClassName(e)[0].addEventListener("click",()=>{s("btn-cancel"===e?"cancel":"x")})}),u.getElementsByClassName("btn-apply")[0].addEventListener("click",()=>{a()}),u.getElementsByClassName("content")[0].addEventListener("click",e=>{e.preventDefault(),e.stopPropagation()});const d=t.i18n.getMessage("offers_code_copied");return u.getElementsByClassName("copy-code")[0].addEventListener("click",function(){u.getElementsByClassName("promo-code")[0].select(),(0,i.copySelectedText)(n)&&(this.textContent=d,l())}),u};var r=e("29"),i=e("25")}),e.registerDynamic("2b",["27","2a","25"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;var o,r=e("27"),i=e("2a"),c=(o=i)&&o.__esModule?o:{default:o},s=e("25");const a=!1;t.render=function(e){let t=e.chrome,n=e.window,o=e.onApply,i=e.onCancel,l=e.onCopyCode;var u=e.config;let d=void 0===u?{}:u;if(n.document.getElementById("cliqz-offer-modal"))return void n.console.warn("an attempt to render popup twice");const f=(0,s.createElement)(n,{tag:"div"});f.id="cliqz-offer-modal",Object.assign(f.style,r.PARANJA_STYLES);const p=n.document.head,m=p.createShadowRoot||p.attachShadow;let h=null,g=null;m?(g=f.attachShadow({mode:a?"open":"closed"}),h=(0,s.createElement)(n,{tag:"div"})):(h=(0,s.createElement)(n,{tag:"iframe",id:"cliqz-offers-iframe"})).frameBorder=0,Object.assign(h.style,(0,r.popupStyles)(d));const v=(0,c.default)({chrome:t,window:n,config:d,onCancel:e=>{f.remove(),h.remove(),i(e)},onApply:()=>{f.remove(),h.remove(),o()},onCopyCode:l});f.addEventListener("click",()=>{i("outside"),f.remove(),h.remove()});const y=(0,s.createElement)(n,{tag:"style",textContent:(0,r.styles)(d)});n.setTimeout(()=>{f.style.opacity=1,h.style.opacity=1,m?(h.appendChild(v),g.appendChild(y),g.appendChild(h)):(h.contentDocument.body.appendChild(v),h.contentDocument.head.append(y))},1500),n.document.body.appendChild(f),n.document.body.appendChild(m?g:h)}}),e.registerDynamic("25",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});const o=["voucher","discount","coupon","rabatt","gutschein","promo"];function r(e){const t=function(e){const t=e.querySelectorAll("input"),n=(e,t)=>e&&e.toLowerCase().includes(t);return[...t].filter(e=>"hidden"!==e.type&&"password"!==e.type&&o.some(t=>n(e.name,t)||n(e.id,t)))}(e);if(1!==t.length)return{ok:!1,input:null,button:null};const n=function(e){const t=[...e.querySelectorAll("button")]||!1,n=([...e.querySelectorAll("input")]||!1).filter(e=>e&&e.type&&"submit"===e.type.toLowerCase());return t.concat(n)}(e);return[1,2].includes(n.length)?{ok:!0,input:t[0],button:n[0]}:{ok:!1,input:null,button:null}}t.once=function(e){let t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];e.apply(this,o)}}},t.createElement=function(e,t){let n=t.tag,o=t.className,r=t.textContent,i=t.id;const c=e.document.createElement(n);return o&&c.classList.add(o),r&&(c.textContent=r),i&&(c.id=i),c},t.copySelectedText=function(e){let t=!1;try{t=e.document.execCommand("copy")}catch(e){t=!1}return t},t.getCouponsForm=function(e){return e.reduce((e,t)=>t?e.ok?e:r(t):e,{ok:!1,input:null,button:null})}}),e.registerDynamic("2c",["17","24","26","2b","25"],!0,function(e,t,n){"use strict";this||self;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=e("17"),i=e("24"),c=e("26"),s=e("2b"),a=e("25");(0,r.registerContentScript)("popup-notification","http*",(e,t,n)=>{const r=(0,a.once)(s.render),l=((e,t,n,r)=>s=>{const a=s.action,l=s.module;var u=s.target;const d=void 0===u?"nobody":u;var f=s.data;const p=void 0===f?{}:f,m=s.url,h=e.location.href;if(m!==h||"popup-notification"!==l||"push"!==a)return;var g=p.config;const v=void 0===g?{}:g;var y=p.onApply;const b=void 0===y?"":y;var w=p.preShow;const _=void 0===w?"":w,x=p.back;var k=(0,i.preShowActions)(_)(e,v);const E=k.ok,S=k.config,O={back:x,url:h};(0,c.log)(n,{target:d,data:o({},O,{type:"pre-show",ok:E})}),S.shouldPreventRender||(r({chrome:t,window:e,onApply:()=>{(0,i.onApplyActions)(b)(e,v),(0,c.pop)(n,{target:d,data:o({},O,{ok:!0})})},onCancel:e=>(0,c.pop)(n,{target:d,data:o({},O,{ok:!1,type:e})}),onCopyCode:()=>(0,c.log)(n,{target:d,data:o({},O,{type:"copy-code",ok:!0})}),config:S}),(0,c.log)(n,{target:d,data:o({},O,{type:"show",ok:!0})}))})(e,t,n,r);e.top===e&&(e.addEventListener("DOMContentLoaded",()=>{t.runtime.onMessage.addListener(l)}),e.addEventListener("unload",()=>{t.runtime.onMessage.removeListener(l)}))})}),e.registerDynamic("2d",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.default={platform:"webextension",brocfile:"Brocfile.ghostery.js",baseURL:"/cliqz/",pack:"npm pack",publish:'echo "Uploading version: browser-core-$PACKAGE_VERSION.tgz" && aws s3 cp browser-core-$PACKAGE_VERSION.tgz s3://cdncliqz/update/edge/ghostery/$BRANCH_NAME/$VERSION.${GIT_COMMIT:0:7}.tgz --acl public-read && aws s3 cp s3://cdncliqz/update/edge/ghostery/$BRANCH_NAME/$VERSION.${GIT_COMMIT:0:7}.tgz s3://cdncliqz/update/edge/ghostery/v7.35/latest.tgz --acl public-read',sourceMaps:!0,format:"common",settings:{ANOLYSIS_BACKEND_URL:"https://anolysis.privacy.ghostery.net",ANOLYSIS_STAGING_BACKEND_URL:"https://anolysis-staging.privacy.ghostery.net",BACKGROUND_IMAGE_URL:"https://cdn.ghostery.net/brands-database/database/",BW_URL:"https://antiphishing.ghostery.net/api/bwlist?md5=",CDN_BASEURL:"https://cdn.ghostery.net",CLIQZ_SAVE_URL:"https://ghostery.net/q=",CONFIG_PROVIDER:"https://api.ghostery.net/api/v1/config",ENDPOINT_ANONPATTERNSURL:"https://cdn2.ghostery.com/human-web-chromium/patterns-anon.gz",ENDPOINT_HPNV2_DIRECT:"https://collector-hpn.ghostery.net",ENDPOINT_HPNV2_ANONYMOUS:"https://collector-hpn.ghostery.net",ENDPOINT_PATTERNSURL:"https://cdn2.ghostery.com/human-web-chromium/patterns.gz",ENDPOINT_SAFE_QUORUM_ENDPOINT:"https://safe-browsing-quorum.privacy.ghostery.net/",ENDPOINT_SAFE_QUORUM_PROVIDER:"https://safe-browsing-quorum.privacy.ghostery.net/config",FEEDBACK:"https://ghostery.net/feedback/",HB_NEWS:"hb-news.ghostery.net",HOMPAGE_URL:"https://ghostery.net/",OFFERS_BE_BASE_URL:"https://offers-api.ghostery.net",PRIVACY_SCORE_URL:"https://anti-tracking.ghostery.net/api/v1/score?",RESULTS_PROVIDER:"https://api.ghostery.net/api/v2/results?nrh=1&q=",RESULTS_PROVIDER_LOG:"https://api.ghostery.net/api/v1/logging?q=",RICH_HEADER:"https://api.ghostery.net/api/v2/rich-header?path=/v2/map",ROTATED_TOP_NEWS:"rotated-top-news.ghostery.net",SAFE_BROWSING:"https://safe-browsing.ghostery.net",STATISTICS:"https://stats.ghostery.net",SUGGESTIONS_URL:"https://ghostery.net/search?q=",UNINSTALL:"https://ghostery.net/home/offboarding",WTM_API:"https://whotracks.me/data/",SUPPORT_URL:"https://ghostery.zendesk.com/hc/en-us",TRIQZ_URL:"https://cliqz.com/tips",PRIVACY_POLICY_URL:"https://www.ghostery.com/about-ghostery/privacy-statements/",LOCATION_SHARING_URL:"https://cliqz.com/support/local-results",MYOFFRZ_URL:"https://cliqz.com/myoffrz",REPORT_SITE_URL:"https://cliqz.com/report-url",NEW_TAB_URL:"/freshtab/home.html",channel:"CH80",MSGCHANNEL:"web-extension",OFFERS_CHANNEL:"ghostery",ATTRACK_TELEMETRY_PROVIDER:"hpnv2",HW_CHANNEL:"ghostery",ALLOWED_COUNTRY_CODES:["de","at","ch","es","us","fr","nl","gb","it","be","se","dk","fi","cz","gr","hu","ro","no","ca","au","ru","ua","in","pl","jp","br","mx","cn","ar"],antitrackingPlaceholder:"ghostery",antitrackingHeader:"Ghostery-AntiTracking",frameScriptWhitelist:[]},default_prefs:{"modules.human-web.enabled":!0,"modules.offers-v2.enabled":!0,"modules.message-center.enabled":!1,"modules.antitracking.enabled":!0,"modules.anti-phishing.enabled":!1,"modules.adblocker.enabled":!0,"modules.insights.enabled":!1,offersLogsEnabled:!0,showConsoleLogs:!1,"cliqz-adb":!0,"cliqz-adb-abtest":!0,attrackBloomFilter:!0,humanWeb:!0,"cliqz-anti-phishing":!0,"cliqz-anti-phishing-enabled":!0,attrackTelemetryMode:1,attrackDefaultAction:"placeholder",sendAntiTrackingHeader:!1,telemetry:!1,attrackCookieTrustReferers:!0},bundles:["core/content-script.bundle.js","hpnv2/worker.wasm.bundle.js","hpnv2/worker.asmjs.bundle.js","human-web/rusha.bundle.js"],modules:["core","message-center","human-web","hpnv2","antitracking","webrequest-pipeline","offers-v2","adblocker","anolysis","anti-phishing","myoffrz-helper","popup-notification","insights"],environment:"production",debugPages:!1,EXTENSION_VERSION:"7.35.1",VERSION:"7.35.1",instrumentFunctions:""}}),e.registerDynamic("2e",["17","2d"],!0,function(e,t,n){"use strict";this||self;var o,r=e("17"),i=e("2d"),c=(o=i)&&o.__esModule?o:{default:o};(0,r.registerContentScript)("insights","http*",(e,t,n)=>{function o(){var e=document.location;const t=e.host,o=e.hostname,r=e.pathname,i=e.protocol,c=performance.timing.domContentLoadedEventStart-performance.timing.requestStart||0;n.app.modules.insights.action("recordPageInfo",{domain:`${i}//${t}${r}`,host:o,timestamp:performance.timing.navigationStart,latency:c,pageTiming:{timing:{navigationStart:performance.timing.navigationStart,loadEventEnd:performance.timing.loadEventEnd}}})}("firefox"===c.default.platform||n.app.modules.insights.isEnabled)&&e.self===e.top&&("complete"!==document.readyState?e.addEventListener("load",()=>{setTimeout(o,1)}):o())})}),e.registerDynamic("2f",["16","19","1e","21","22","23","2c","2e"],!0,function(e,t,n){"use strict";this||self;e("16"),e("19"),e("1e"),e("21"),e("22"),e("23"),e("2c"),e("2e")}),e.registerDynamic("30",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a string");for(var n,o=String(e),r="",i=!!t&&!!t.extended,c=!!t&&!!t.globstar,s=!1,a=t&&"string"==typeof t.flags?t.flags:"",l=0,u=o.length;l<u;l++)switch(n=o[l]){case"\\":case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":r+="\\"+n;break;case"?":if(i){r+=".";break}case"[":case"]":if(i){r+=n;break}case"{":if(i){s=!0,r+="(";break}case"}":if(i){s=!1,r+=")";break}case",":if(s){r+="|";break}r+="\\"+n;break;case"*":for(var d=o[l-1],f=1;"*"===o[l+1];)f++,l++;var p=o[l+1];if(c){var m=f>1&&("/"===d||void 0===d)&&("/"===p||void 0===p);m?(r+="((?:[^/]*(?:/|$))*)",l++):r+="([^/]*)"}else r+=".*";break;default:r+=n}a&&~a.indexOf("g")||(r="^"+r+"$");return new RegExp(r,a)}}),e.registerDynamic("17",["30"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.isTopWindow=function(e){return e.self===e.top},t.registerContentScript=function(e,t,n){c[t]=c[t]||[],c[t].push({moduleName:e,contentScript:n})},t.runContentScripts=function(e,t,n){const o=e.location.href,r=Object.keys(c).filter(e=>{const t=(0,i.default)(e);return t.test(o)}),s={};return r.forEach(o=>{c[o].filter(e=>{let t=e.moduleName;return(n.app.modules[t]||{}).isEnabled}).forEach(o=>{let r=o.contentScript,i=o.moduleName;try{s[i]=r(e,t,n)||{}}catch(t){e.console.error(`CLIQZ content-script failed: ${t} ${t.stack}`)}})}),s};var o,r=e("30"),i=(o=r)&&o.__esModule?o:{default:o};const c={}}),e.registerDynamic("18",[],!0,function(e,t,n){"use strict";this||self;function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Promise.resolve().then(()=>e(...n))}Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=function(e,t,n){let o,r;return function(){for(var i=arguments.length,c=Array(i),s=0;s<i;s++)c[s]=arguments[s];const a=Date.now();o&&a<o+n?(e.clearTimeout(r),r=e.setTimeout(()=>{o=a,t(...c)},n)):(o=a,t(...c))}},t.nextTick=o,t.nextIdle=function(){if("undefined"==typeof window||!window.requestIdleCallback)return o(()=>{});return new Promise(e=>{window.requestIdleCallback(()=>e())})}}),e.registerDynamic("31",["32"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return r(e,t,o,!1)},t.setTimeoutIntervalInstant=function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return r(e,t,o,!0)};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("32"));function r(e,t,n,r){let i=!0,c=null;const s=(a=function*(){if(i)try{yield e(...n)}catch(e){}i&&(c=o.setTimeout(s,t))},l=function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function o(r,i){try{var c=e[r](i),s=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(s).then(function(e){o("next",e)},function(e){o("throw",e)});t(s)}("next")})},function(){return l.apply(this,arguments)});var a,l;return c=o.setTimeout(s,r?0:t),{stop:()=>{i=!1,o.clearTimeout(c)}}}}),e.registerDynamic("32",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});t.setTimeout=function(){return("undefined"==typeof setTimeout?window.setTimeout.bind(window):setTimeout)(...arguments)},t.setInterval=function(){return("undefined"==typeof setInterval?window.setInterval.bind(window):setInterval)(...arguments)},t.clearTimeout=function(){return("undefined"==typeof clearTimeout?window.clearTimeout.bind(window):clearTimeout)(...arguments)},t.clearInterval=function(){return("undefined"==typeof clearInterval?window.clearInterval.bind(window):clearInterval)(...arguments)}}),e.registerDynamic("33",["31","32"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.waitFor=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e4;return function(e,t){let n,i,c,s,a;const l=()=>{r.clearTimeout(s),a.stop()},u=new Promise((e,t)=>{i=e,c=t}),d=(f=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(r,i){try{var c=t[r](i),s=c.value}catch(e){return void n(e)}if(!c.done)return Promise.resolve(s).then(function(e){o("next",e)},function(e){o("throw",e)});e(s)}("next")})}}(function*(){try{const t=yield e();if(t)return l(),void i(t)}catch(e){n=e}}),function(){return f.apply(this,arguments)});var f;return a=(0,o.setTimeoutIntervalInstant)(d,50),s=r.setTimeout(()=>{l(),c(n?`waitFor timeout: ${n}`:"waitFor timeout")},t),u}(e,t)},t.wait=function(e){return new Promise(t=>r.setTimeout(t,e))};var o=e("31"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("32"))}),e.registerDynamic("34",["35"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e("35");var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.actions,o=void 0===n?{}:n,r=t.respond,i=void 0===r?function(){}:r,c=t.respondWithError,s=void 0===c?function(){}:c,a=t.filter,l=void 0===a?function(){return!0}:a,u=t.transform,d=void 0===u?function(e){return e}:u,f=t.errorLogger,p=t.onTerminate,m=void 0===p?function(){}:p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=o,this.onTerminate=m,this.dispatch=this.dispatch.bind(this),this.filter=l,this.transform=d,this.respond=i,this.respondWithError=s,this.errorLogger=f}return o(e,[{key:"dispatch",value:function(e){var t=this;if(!this.filter||!this.filter(e))return!1;var n=this.transform(e),o=n.args,i=void 0===o?[]:o,c=n.action;if(!(0,r.has)(this.actions,c))return!1;var s=void 0;try{var a;s=(a=this.actions)[c].apply(a,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i))}catch(t){return this.respondWithError(t.message,e),!0}return s instanceof Promise||(s=Promise.resolve(s)),s.then(function(n){return t.respond(n,e)},function(n){return t.respondWithError(n,e)}),!0}},{key:"terminate",value:function(){this.onTerminate()}}]),e}();t.default=i}),e.registerDynamic("36",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return[e(),e(),"-",e(),"-",e(),"-",e(),"-",e(),e(),e()].join("")}}),e.registerDynamic("35",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});t.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}),e.registerDynamic("37",["34","36","35"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(e("34")),i=s(e("36")),c=e("35");function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){return console.error.bind(console)},l=function(){function e(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).errorLogger;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sendFunction=t,this.callbacks=new Map,this.errorLogger=n||a(),this.listeners=[this]}return o(e,[{key:"send",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=void 0,c=void 0,s=(0,i.default)(),a=new Promise(function(e,t){r=e,c=t});return this.callbacks.set(s,{resolver:r,rejecter:c}),this.sendFunction({action:e,args:n,uuid:s}),a}},{key:"createProxy",value:function(){return new Proxy(this,{get:function(e,t){return e.send.bind(e,t)}})}},{key:"dispatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.callbacks.get(e.uuid);if(!t)return!1;if((0,c.has)(e,"response"))t.resolver(e.response);else{if(!(0,c.has)(e,"error"))return!1;t.rejecter(e.error)}return this.callbacks.delete(e.uuid),!0}},{key:"handleMessage",value:function(e){return this.listeners.some(function(t){try{return t.dispatch(e)}catch(e){return t.errorLogger("Spanan dispatch error",e),!1}})}},{key:"export",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.filter,i=n.transform,c=n.respond,s=n.respondWithError,l=n.errorLogger,u=new r.default({actions:e,respond:c,respondWithError:s,filter:o,transform:i,errorLogger:l||a(),onTerminate:function(){t.listeners=t.listeners.filter(function(e){return e!==u})}});return this.listeners.push(u),u}},{key:"reset",value:function(){this.listeners=[]}}]),e}();t.default=l}),e.registerDynamic("38",["37","39"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=new i.default(n=>{let o=n.uuid,r=n.action,i=n.args;const s={module:e,action:r,requestId:o,args:i},a=e=>{e&&t.handleMessage({uuid:o,response:e.response})},l=c.chrome.runtime.sendMessage(s,a);l&&l.then&&l.then(a)});return c.chrome.runtime.onMessage.addListener(e=>{let n=e.requestId,o=e.response;return t.handleMessage({uuid:n,response:o})}),t};var o,r=e("37"),i=(o=r)&&o.__esModule?o:{default:o},c=e("39")}),e.registerDynamic("39",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});const o="undefined"!=typeof browser?browser:chrome;t.chrome=o,t.window=window}),e.registerDynamic("3a",["2d","2f","17","18","33","38","39"],!0,function(e,t,n){"use strict";this||self;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=l(e("2d"));e("2f");var i=e("17"),c=(e("18"),e("33")),s=l(e("38")),a=e("39");function l(e){return e&&e.__esModule?e:{default:e}}const u=5e3;const d=["chrome://cliqz/","resource://cliqz/"].concat(r.default.settings.frameScriptWhitelist);(0,i.registerContentScript)("core","*",(e,t,n)=>{const r=()=>e.location.href;const c={postMessage:t=>(e.postMessage(t,"*"),null),getHTML:()=>e.document.documentElement.outerHTML,click(t){const n=e.document.querySelector(t);try{return n.click(),!0}catch(e){return!1}},queryHTML(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.shadowRootSelector;let c=void 0===i?null:i;var s=r.attributeType;let a=void 0===s?"property":s;const l=c?e.document.querySelector(c).shadowRoot:e.document,u=n.split(","),d=(e,t)=>"property"===a?e[t]:e.getAttribute(t);return Array.prototype.map.call(l.querySelectorAll(t),e=>u.length>1?u.reduce((t,n)=>o({},t,{[n]:d(e,n)}),{}):d(e,n))},queryComputedStyle(t){const n=shadowRootSelector?e.document.querySelector(shadowRootSelector).shadowRoot:e.document;return Array.prototype.map.call(n.querySelectorAll(t),t=>e.getComputedStyle(t))},getCookie(){try{return e.document.cookie}catch(e){if(e instanceof DOMException&&"SecurityError"==e.name)return null;throw e}}};const s=function(t){const o=[];if(e.parent!==e&&e.document&&e.document.scripts)for(let t=0;t<e.document.scripts.length;t+=1){const n=e.document.scripts[t].src;n.startsWith("http")&&o.push(n)}let r=t.target;1!==r.nodeType&&(r=r.parentNode);let i=null;r.closest("a[href]")&&(i=r.closest("a[href]").getAttribute("href"));const c={target:{baseURI:t.target.baseURI,value:t.target.value,href:t.target.href,parentNode:{href:t.target.parentNode?t.target.parentNode.href:null},linksSrc:o}};n.app.modules.core.action("recordMouseDown",c,function(e){let t,n=e.target,o=0;try{for(;;){if(-1!==(t=n.innerHTML).indexOf("http://")||-1!==t.indexOf("https://"))return t;if(n=n.parentNode,(o+=1)>4)break}}catch(e){}}(t),i)},a=function(){const t=e.document.getElementsByTagName("html").item(0).getAttribute("lang");if(!(0,i.isTopWindow)(e))return;const o=e.document.querySelector("title"),c=e.document.querySelector("meta[name=description]"),s=e.document.querySelector('meta[property="og:title"]'),a=e.document.querySelector('meta[property="og:description"]'),l=e.document.querySelector('meta[property="og:image"]');n.app.modules.core.action("recordMeta",r(),{title:o&&o.innerHTML,description:c&&c.content,ogTitle:s&&s.content,ogDescription:a&&a.content,ogImage:l&&l.content,lang:t})};function l(n){var o;n.windowId?(o=n,f()||d.some(e=>0===r().indexOf(e))&&"content"===o.origin&&e.postMessage(JSON.stringify({target:"cliqz",type:"response",response:o.response,action:o.action,module:o.module,requestId:o.requestId}),"*")):function(n){let o;if(f())return;if("unload"===n.action)return void u();const i=r();let s=n.url===i;if(!n.url||0!==n.url.indexOf("resource://cliqz")&&0!==n.url.indexOf("chrome://cliqz")||0===i.indexOf(n.url)&&(s=!0),s&&n.action in c){try{if(null===(o=c[n.action].apply(null,n.args||[])))return}catch(t){e.console.error("cliqz framescript:",t)}t.runtime.sendMessage({response:o,requestId:n.requestId})}}(n)}function u(n){if(!n||n.target===e.document){try{String(e)}catch(e){return}t.runtime.onMessage.removeListener(l),e.removeEventListener("mousedown",s),e.removeEventListener("DOMContentLoaded",a)}}function f(){try{return r(),!1}catch(e){return u(),!0}}e.addEventListener("mousedown",s),e.addEventListener("DOMContentLoaded",a),t.runtime.onMessage.addListener(l),e.addEventListener("unload",u)}),function(){if("html"!==a.window.document.documentElement.nodeName.toLowerCase())return;let e=!1;const t=[];let n=[];function o(e){n.length<u&&n.push(e)}function r(e,t){var n=t||{};const o=n.module,r=n.action,i=n.args,c=(e[o]||{})[r];c&&c(...i)}function l(c){if(e)return;e=!0,Object.keys(c.app.modules).forEach(e=>{const n=c.app.modules[e],o=(0,s.default)(e);n.action=o.send.bind(o),t.push(o)}),a.chrome.runtime.onMessage.removeListener(o),a.chrome.runtime.onMessage.addListener(e=>{t.forEach(t=>t.handleMessage(e))});const l=(0,i.runContentScripts)(a.window,a.chrome,c);n.forEach(e=>{try{r(l,e)}catch(e){a.window.console.error(`CLIQZ content-script failed onmessage: ${e} ${e.stack}`)}}),n=[],a.chrome.runtime.onMessage.addListener(e=>r(l,e))}if(a.chrome.runtime.onMessage.addListener(o),"undefined"!=typeof CLIQZ&&CLIQZ.app)l(CLIQZ);else{a.window.runCliqz=l;const t=()=>new Promise((t,n)=>{e?t({}):a.chrome.runtime.sendMessage({module:"core",action:"status"},o=>{e||a.chrome.runtime.lastError||!o?n("hasRun"):t({app:o.response})})});(0,c.waitFor)(t).then(l,()=>{})}}()}),e.registerDynamic("14",["3a"],!0,function(e,t,n){"use strict";this||self;e("3a")})})(function(n){s=[],void 0===(a="function"==typeof(c=n)?c.apply(t,s):c)||(e.exports=a)})}).call(this,n(21),n(736),n(131))},736:function(e,t){e.exports={import:function(){throw new Error("System.import cannot be used indirectly")}}},737:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=737}});